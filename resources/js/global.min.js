(function t(e,n,o,r){"use strict";function s(t){return new p(t)}var u=(n.module("powellDevTools",["ngSanitize"]).config(function(t){t.resourceUrlWhitelist(["self","https://rawgit.com/**"])}),"datacontextUtility");n.module("powellDevTools").factory(u,["$q",s]);var p=function(t){var e=this;p.$q=t,e.CDN_BASE_URL="https://[CDNMODE].powell-365.com",e.DEFAULT_TENANT="Default",e.ENVIRONMENTS={PROD:"1",REC:"2",DEV:"3"},e.SOURCEMODES={PROD:"",DEBUG:"/debug"},e.CDNMODES={PROD:"cdn",REC:"r7-cdn"},e.ENABLEDSTATES=["js","css","html","xhr"]},a=function(t){return o["PowellDevTools_"+t]},i=function(t,e){o["PowellDevTools_"+t]=e};p.prototype.get_repoJsURL=function(){return a("repoJsURL")||""},p.prototype.set_repoJsURL=function(t){i("repoJsURL",t)},p.prototype.get_defaultJsRepoState=function(){return"true"===a("defaultJsRepoState")},p.prototype.set_defaultJsRepoState=function(t){i("defaultJsRepoState",t)},p.prototype.get_defaultJsTenantState=function(){return"true"===a("defaultJsTenantState")},p.prototype.set_defaultJsTenantState=function(t){i("defaultJsTenantState",t)},p.prototype.get_sourceMode=function(){return a("sourceMode")||""},p.prototype.set_sourceMode=function(t){i("sourceMode",t)},p.prototype.get_cdnJsMode=function(){return a("cdnJsMode")||"cdn"},p.prototype.set_cdnJsMode=function(t){i("cdnJsMode",t)},p.prototype.get_repoCssURL=function(){return a("repoCssURL")||""},p.prototype.set_repoCssURL=function(t){i("repoCssURL",t)},p.prototype.get_defaultCssRepoState=function(){return"true"===a("defaultCssRepoState")},p.prototype.set_defaultCssRepoState=function(t){i("defaultCssRepoState",t)},p.prototype.get_defautCssOnCdnState=function(){return"true"===a("defautCssOnCdnState")},p.prototype.set_defautCssOnCdnState=function(t){i("defautCssOnCdnState",t)},p.prototype.get_defaultCssURL=function(){return a("defaultCssURL")||""},p.prototype.set_defaultCssURL=function(t){i("defaultCssURL",t)},p.prototype.get_devCssID=function(){return a("devCssID")||""},p.prototype.set_devCssID=function(t){i("devCssID",t)},p.prototype.get_tenantCssID=function(){return a("tenantCssID")||""},p.prototype.set_tenantCssID=function(t){i("tenantCssID",t)},p.prototype.get_defaultCssTenantState=function(){return"true"===a("defaultCssTenantState")},p.prototype.set_defaultCssTenantState=function(t){i("defaultCssTenantState",t)},p.prototype.get_envID=function(){return a("envID")||""},p.prototype.set_envID=function(t){i("envID",t)},p.prototype.get_themeID=function(){return parseInt(a("themeID"),10)||0},p.prototype.set_themeID=function(t){i("themeID",t)},p.prototype.get_cdnCssMode=function(){return a("cdnCssMode")||"cdn"},p.prototype.set_cdnCssMode=function(t){i("cdnCssMode",t)},p.prototype.get_useThemeState=function(){return"true"===a("useThemeState")},p.prototype.set_useThemeState=function(t){i("useThemeState",t)},p.prototype.get_repoHtmlURL=function(){return a("repoHtmlURL")||""},p.prototype.set_repoHtmlURL=function(t){i("repoHtmlURL",t)},p.prototype.get_defaultHtmlRepoState=function(){return"true"===a("defaultHtmlRepoState")},p.prototype.set_defaultHtmlRepoState=function(t){i("defaultHtmlRepoState",t)},p.prototype.get_htmlVersion=function(){return parseInt(a("htmlVersion"),10)||0},p.prototype.set_htmlVersion=function(t){i("htmlVersion",t)},p.prototype.get_cdnHtmlMode=function(){return a("cdnHtmlMode")||"cdn"},p.prototype.set_cdnHtmlMode=function(t){i("cdnHtmlMode",t)},p.prototype.get_htmlTemplates=function(){return JSON.parse(a("htmlTemplate")||"{}")},p.prototype.get_htmlTemplate=function(t){var e=JSON.parse(a("htmlTemplate")||"{}");return null==e[t]&&(e[t]={isOverriden:!1,fileName:t},i("htmlTemplate",JSON.stringify(e))),e[t]},p.prototype.set_htmlTemplate=function(t,e){var n=JSON.parse(a("htmlTemplate")||"{}");null==n[t]?n[t]={isOverriden:e,fileName:t}:n[t].isOverriden=e,i("htmlTemplate",JSON.stringify(n))},p.prototype.get_xhrOrigin=function(){return a("xhrOrigin")||""},p.prototype.set_xhrOrigin=function(t){i("xhrOrigin",t)},p.prototype.isEnabled=function(t){return"true"===a(t+"_enabled")},p.prototype.set_isEnabled=function(t,e){i(t+"_enabled",e)},p.prototype.shouldShowEnabled=function(){var t=this;return t.isEnabled("js")||t.isEnabled("css")||t.isEnabled("xhr")},p.prototype.enabledFourState=function(){var t=this,e=t.ENABLEDSTATES.map(function(e){return{kind:e,enabled:t.isEnabled(e)}});return e=e.filter(function(t){return t.enabled}),0==e.length?"none":1==e.length?e[0].kind:e.map(function(t){return t.kind.substr(0,1)}).join("")},p.prototype.get_activePane=function(){return a("activePane")||"js"},p.prototype.set_activePane=function(t){i("activePane",t)},p.prototype.getLocalStorageValue=function(t){var e=this;return e["get_"+t]()},p.prototype.setLocalStorageValue=function(t,e){var n=this;n["set_"+t](e)},p.prototype.get_jsSourceUrl=function(){var t=this,e=[];return t.get_defaultJsRepoState()?(e.push(t.CDN_BASE_URL.replace("[CDNMODE]",t.get_cdnJsMode())),e.push("scripts"),e.push("powell"+t.get_sourceMode()),e=e.join("/")):e=t.get_repoJsURL(),e.replace(/([^:]\/)\/+/g,"$1")},p.prototype.get_cssSourceUrl=function(t){var e=this,n=[];e.get_defaultCssRepoState()?n.push(e.CDN_BASE_URL.replace("[CDNMODE]",e.get_cdnCssMode())):n.push(e.get_repoCssURL()),n.push("styles"),e.get_defaultCssTenantState()?n.push(e.DEFAULT_TENANT):n.push(e.get_tenantCssID());var o=e.get_devCssID();o&&(n.push("user"),n.push(o)),n.push(t),n=n.join("/");var r=e.get_envID(),s=e.get_useThemeState();return r&&(n+="?env="+e.get_envID(),s&&(n+="&themeId="+e.get_themeID())),n.replace(/([^:]\/)\/+/g,"$1")},p.prototype.get_htmlSourceUrl=function(t,e){var n=this,o=[];return n.get_defaultHtmlRepoState()?(o.push(n.CDN_BASE_URL.replace("[CDNMODE]",n.get_cdnHtmlMode())),o.push("Common")):o.push(n.get_repoHtmlURL()),o.push(t),o=o.join("/"),o.replace(/([^:]\/)\/+/g,"$1")},p.prototype.get_logoSourceUrl=function(t){var e=this,n=[];e.get_defaultCssRepoState()?n.push(e.CDN_BASE_URL.replace("[CDNMODE]",e.get_cdnCssMode())):n.push(e.get_repoCssURL()),n.push("styles"),n.push(e.DEFAULT_TENANT),n.push("images"),n.push(t),n=n.join("/");var o=e.get_envID(),r=e.get_useThemeState();return o&&(n+="?env="+e.get_envID(),r&&(n+="&themeId="+e.get_themeID())),n.replace(/([^:]\/)\/+/g,"$1")};var l=function(t){var e,n,o,r=0;if(0===t.length)return r;for(e=0,o=t.length;e<o;e++)n=t.charCodeAt(e),r=(r<<5)-r+n,r|=0;return r};e.GLOBAL=l(t.toString())})(window,window.angular,window.localStorage);