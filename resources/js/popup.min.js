!function(e,t,n,a,s){"use strict";var o="ConfigController";function r(t,n,s,o,r,l,c){return a.runtime.sendMessage({action:"powDevTools.checkScriptFreshness",globalMD5:e.PDT_GLOBAL}),new i(t,n,s,o,r,l,c)}t.module("powellDevTools").controller(o,["$scope","$element","$q","$sce","$timeout","$interval","datacontextUtility",r]);var i=function(e,t,n,s,o,r,i){var l=this;e.appVers="6.4.102";var c=document.querySelectorAll("script"),u;c[c.length-1].src.indexOf("chrome-extension://")>=0?e.configTemplateUrl="/resources/html/ConfigController.html":e.configTemplateUrl="https://cdn.jsdelivr.net/gh/Expertime/powell-developer-tools/resources/html/ConfigController.html",e.config={repoJsURL:i.get_repoJsURL(),defaultJsRepoState:i.get_defaultJsRepoState(),defaultLocalJsRepoState:i.get_defaultLocalJsRepoState(),repoCssURL:i.get_repoCssURL(),defaultCssRepoState:i.get_defaultCssRepoState(),defautCssOnCdnState:i.get_defautCssOnCdnState(),defaultCssURL:i.get_defaultCssURL(),devCssID:i.get_devCssID(),defaultJsTenantState:i.get_defaultJsTenantState(),tenantCssID:i.get_tenantCssID(),defaultCssTenantState:i.get_defaultCssTenantState(),envID:i.get_envID(),themeID:i.get_themeID(),headerID:i.get_headerID(),footerID:i.get_footerID(),useThemeState:i.get_useThemeState(),useHeaderState:i.get_useHeaderState(),useFooterState:i.get_useFooterState(),repoHtmlURL:i.get_repoHtmlURL(),defaultHtmlRepoState:i.get_defaultHtmlRepoState(),htmlVersion:i.get_htmlVersion(),sourceMode:i.get_sourceMode(),cdnJsMode:i.get_cdnJsMode(),cdnCssMode:i.get_cdnCssMode(),cdnHtmlMode:i.get_cdnHtmlMode(),xhrOrigin:i.get_xhrOrigin(),encodeBingTranslation:i.get_encodeBingTranslation(),cdnURL:i.get_cdnURL(),cdnState:i.get_cdnState()},e.enableJsEmulation=i.isEnabled("js"),e.enableCssEmulation=i.isEnabled("css"),e.enableCdnEmulation=i.isEnabled("cdn"),e.enableHtmlEmulation=i.isEnabled("html"),e.enableXhrEmulation=i.isEnabled("xhr"),e.environments=i.ENVIRONMENTS,e.sourceModes=i.SOURCEMODES,e.cdnModes=i.CDNMODES,e.$watchCollection("config",(function(t){for(var n in t)if(i.setLocalStorageValue(n,t[n]),"headerID"==n||"footerID"==n){var s="powDevTools.valueUpdated",o={name:n,value:t[n]};a.runtime.sendMessage({action:s,data:o})}e.emulationSources={css:i.get_cssSourceUrl("*.css",!1),js:i.get_jsSourceUrl(),html:i.get_htmlSourceUrl("[layouts|templates]/*.html"),cdn:i.get_cdnSourceUrl("*")}})),e.isPaneActive=function(e){return i.get_activePane().match(new RegExp(e))?"active":""},e.setActivePane=function(e){i.set_activePane(e)},e.switchChanged=function(e){var t=n.defer();a.runtime.sendMessage({action:"powDevTools.setEnabled",enabled:!i.isEnabled(e),sourceKind:e},(function(e){!e&&a.runtime.lastError?t.reject(a.runtime.lastError):t.resolve(e)})),t.promise.catch((function(e){}))},e.clearLocalStorage=function(e){var t=e?"powDevTools.clearSearchStorage":"powDevTools.clearStorage";a.tabs.query({active:!0,currentWindow:!0},(function(e){a.tabs.sendMessage(e[0].id,{method:t},(function(t){a.tabs.reload(e[0].id,{bypassCache:!0},(function(e){}))}))}))},e.Sp={Res:{Name:"",Key:"",resourceValues:"",getResourceValuesIndicator:"",btnGetResourceValues:"Get resources",getResourceValues:function(){var t=0,n=r((function(){t++,e.Sp.Res.getResourceValuesIndicator=".".repeat(t%3+1)}),500),s="powDevTools.getResourceValues",o={name:e.Sp.Res.Name,key:e.Sp.Res.Key};a.tabs.query({active:!0,currentWindow:!0},(function(t){a.tabs.sendMessage(t[0].id,{method:s,data:o},(function(t){r.cancel(n),e.Sp.Res.getResourceValuesIndicator="",e.Sp.Res.resourceValues=t}))}))}}};var d={fr:"1036",en:"1033","zh-CHS":"2052",it:"1040",es:"3082",lt:"1063",bg:"1026",cs:"1029",da:"1030",de:"1031",el:"1032",hr:"1050",hu:"1038",nl:"1043",pl:"1045",pt:["1046","2070"],ro:"1048",ru:"1049",sk:"1051",sv:"1053",tr:"1055",sl:"1060"};e.encodeChars=function(t){return e.config.encodeBingTranslation?t.replace(/[ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖ×ØÙÚÛÜÝàáâãäåæçèéêëìíîïðñòóôõöøùúûüýÿŐőŒœŔŕŖŗŘřŚśŜŝŞşŠšŢţŤťŦŧŨũŪūŬŭŮůŰűŲųŴŵŶŷŸŹźŻżŽž]/g,(function(e){return'"'===e||"\\"===e?" ":"\\x"+e.charCodeAt(0).toString(16).toUpperCase()})):t},e.Bing={bingSource:"",bingDestination:"",bingTranslatingIndicator:"",btnTranslateTitle:"Traduire",translateBing:function(){e.Bing.btnTranslateTitle="Traduction";var t=0,n=r((function(){t++,e.Bing.bingTranslatingIndicator=".".repeat(t%3+1)}),500),a={Input:e.Bing.bingSourcePhrase,Languages:Object.keys(d)},s;i.get_bingTranslationResource().post(a,(function(t){r.cancel(n),e.Bing.bingTranslatingIndicator="",e.Bing.btnTranslateTitle="Traduire";var a={key:e.Bing.bingSourceKey},s={};Object.keys(t.Data).forEach((function(e){Array.isArray(d[e])?d[e].forEach((function(n){a[n]=t.Data[e],s[n]=t.Data[e]})):(a[d[e]]=t.Data[e],s[d[e]]=t.Data[e])}));var o=Object.keys(a);o.unshift(o.pop()),a=(a=JSON.stringify(a,o,4)).replace(/\'/g,"\\'"),e.Bing.bingDestination=a,s=(s=JSON.stringify(s,null,1)).replace(/\'/g,"&apos;"),e.Bing.bingDestinationTranslateArray="<span translate translate-array='"+s+"'>"+t.Data.en+"</span>"}))}}}}(window,window.angular,window.jQuery,window.chrome);